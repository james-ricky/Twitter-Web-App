<div class="page">

  <div class="divider"></div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <strong><span class="glyphicon glyphicon-th"></span>{{ 'users.company.field.editUser' | translate }}</strong>
    </div>
    <div class="panel-body">
      <div class="alert alert-danger" ng-if="editUserProfile.$submitted &amp;&amp; editUserProfile.$invalid">
        <ng-messages
          for="editUserProfile.editUserProfileEmail.$error" ng-if="editUserProfile.editUserProfileEmail.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideValidEmail' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileTitle.$error" ng-if="editUserProfile.editUserProfileTitle.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideTitle' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileGivenName.$error" ng-if="editUserProfile.editUserProfileGivenName.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideGivenName' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileFamilyName.$error" ng-if="editUserProfile.editUserProfileFamilyName.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideFamilyName' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileMobileNumber.$error" ng-if="editUserProfile.editUserProfileMobileNumber.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideMobileNumber' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileOfficeNumber.$error" ng-if="editUserProfile.editUserProfileOfficeNumber.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideOfficeNumber' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileJobTitle.$error" ng-if="editUserProfile.editUserProfileJobTitle.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideJobTitle' | translate }}</div>
          </ng-message>
        </ng-messages>
        <ng-messages
          for="editUserProfile.editUserProfileRole.$error" ng-if="editUserProfile.editUserProfileRole.$invalid">
          <p ng-message="required">
            <div>{{ 'users.profile.field.provideRole' | translate }}</div>
          </ng-message>
        </ng-messages>
      </div>

      <form novalidate name="editUserProfile" ng-submit="usersCompanyUserEdit.updateUser()">
        <div class="form-group">
          <label for="">{{ 'users.company.field.email' | translate }}</label>
          <input name="editUserEmail" autofocus type="email" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.email">
        </div>

        <div class="form-group">
          <label for="">{{ 'users.company.field.title' | translate }}</label>

          <br/>

          <span class="ui-select">
            <select name="editUserProfileTitle" ng-model="usersCompanyUserEdit.companyUser.title" required="">
              <option value="mr">{{ 'public.registrations.field.mr' | translate }}</option>
              <!-- <option value="mrs">{{ 'public.registrations.field.mrs' | translate }}</option> -->
              <option value="ms">{{ 'public.registrations.field.ms' | translate }}</option>
            </select>
          </span>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="">{{ 'users.company.field.givenName' | translate }}</label>
              <input name="editUserProfileGivenName" type="text" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.givenName">
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group">
              <label for="">{{ 'users.company.field.familyName' | translate }}</label>
              <input name="editUserProfileFamilyName" type="text" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.familyName">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="">{{ 'users.company.field.mobilePhoneNumber' | translate }}</label>
              <input name="editUserProfileMobileNumber" type="text" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.mobilePhoneNumber">
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group">
              <label for="">{{ 'users.company.field.officePhoneNumber' | translate }}</label>
              <input name="editUserProfileOfficeNumber" type="text" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.officePhoneNumber">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <label for="">{{ 'users.company.field.jobTitle' | translate }}</label>
              <input name="editUserProfileJobTitle" type="text" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.jobTitle">
            </div>
          </div>
        </div>

        <div class="form-group" ng-if="!usersCompanyUserEdit.companyUser.isPrimaryUser">
          <label for="">{{ 'users.company.field.role' | translate }}</label>

          <br/>

          <label class="ui-radio">
            <input name="editUserProfileRole" required="" type="radio" value="user" ng-model="usersCompanyUserEdit.companyUser.role"><span>{{ 'users.company.field.user' | translate }}</span>
          </label>
          <label class="ui-radio">
            <input name="editUserProfileRole" required="" type="radio" value="viewer" ng-model="usersCompanyUserEdit.companyUser.role"><span>{{ 'users.company.field.viewer' | translate }}</span>
          </label>
        </div>

        <div class="form-group">
          <label for="">{{ 'users.company.field.searches' | translate }}</label>

          <br/>

          <div ng-repeat="search in usersCompanyUserEdit.allSearches">
            <label class="ui-checkbox">
              <input name="editUserProfileSearch"
              ng-model="usersCompanyUserEdit.companyUser.searches[search.id]" required="" type="checkbox" value=" {{::search.id}}" checked><span>{{ ::search.name }}</span>
            </label>
          </div>
        </div>

        <input type="submit" value="{{ 'users.company.field.update' | translate }}" class="btn btn-primary" >
      </form>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <strong><span class="glyphicon glyphicon-th"></span></strong>
    </div>
    <div class="panel-body">
      <form ng-submit="usersCompanyUserEdit.updatePassword()">
        <div class="form-group">
          <label for="">{{ 'users.company.field.password' | translate }}</label>
          <input type="password" class="form-control ng-pristine" required="" data-ng-model="usersCompanyUserEdit.companyUser.newPassword">
        </div>

        <input type="submit" value="{{ 'users.company.field.update' | translate }}" class="btn btn-primary" ng-disabled="editUserProfile.$invalid">
      </form>
    </div>
  </div>
</div>
